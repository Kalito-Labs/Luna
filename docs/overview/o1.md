# Luna üåô

A personal mental health platform with context-aware AI.
## üéØ What Luna Does

Luna serves as your digital mental health command center:

- **Patient Profile** - Core demographic and contact information

- **Medication Tracking** - Prescriptions with dosages, frequencies, pharmacy details, and side effects monitoring

- **Journal System** - Daily therapeutic journaling with mood tracking, emotions tagging, and calendar visualization
### AI System

The heart of Luna is its conversation system that understands complete mental health context:

- **Contextual Conversations** - AI has full access to your medications and journal entries

- **Therapeutic Personas** - Enhanced persona system with templates, customizable settings, and usage tracking

- **Multi-Model Support** - OpenAI GPT-4.1-nano (cloud) and Ollama (local) with intelligent model selection

#### ü§ñ Intelligent Memory

- **Rolling Buffer** - Last 10 messages in active context (configurable)
- **Auto-Summarization** - Compresses conversation history after 8 messages
- **Semantic Pins** - Extracts important medical info (symptoms, medications, moods) with urgency levels
- **Context Building** - Pre-builds conversation context BEFORE sending to AI for accuracy
- **Importance Scoring** - Crisis: 0.8-1.0, Therapeutic: 0.7-0.9, Treatment: 0.6-0.8
- **Therapy-Optimized** - Special validation for therapeutic expressions and narrative work
- **Hallucination Prevention** - Structured services bypass AI for factual database queries
#### üîê Privacy & Security

- **Local-First** - All data stored in SQLite on your machine
- **No Cloud Dependencies** - Core features work completely offline
- **Read-Only AI** - AI can read your data but cannot modify it
- **Validation Layer** - Zod schemas validate all inputs
- **Rate Limiting** - API protection against abuse
  
### Knowledge Integration (RAG System)

Luna can incorporate external medical knowledge through its Retrieval-Augmented Generation system:

- **Document Processing** - Upload PDF, DOCX, TXT, and MD files for AI reference
- **Chunked Storage** - Smart text splitting (1000 chars, 200 overlap) with semantic coherence
- **Context-Aware Retrieval** - AI automatically pulls relevant dataset information during conversations
- **Persona-Specific Links** - Each persona can have its own curated knowledge base
- **Access Levels** - Fine-grained permissions per persona (read, summary, reference-only)
- **Weighted Priority** - Control which documents take precedence (0.1 - 2.0 weighting)
## **Built with ‚ù§Ô∏è for mental wellness**